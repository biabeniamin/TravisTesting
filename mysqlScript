-- generated by database functions generator automatically
-- for mysql 
SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
SET time_zone = "+00:00";

-- Following lines remove old tables from database
DROP TABLE IF EXISTS`Transactions`;
DROP TABLE IF EXISTS`Categories`;
DROP TABLE IF EXISTS`Merchants`;
DROP TABLE IF EXISTS`CategorizedMerchants`;
DROP TABLE IF EXISTS`Messages`;
DROP TABLE IF EXISTS`Accounts`;
DROP TABLE IF EXISTS`Notifications`;

CREATE TABLE `Transactions` (
`TransactionId` INT  NOT NULL,
`AccountId` INT  NOT NULL,
`CategoryId` INT  NOT NULL,
`Name` VARCHAR(40)  NOT NULL,
`Value` DOUBLE  NOT NULL,
`CreationTime` DATETIME  NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE `Transactions` ADD PRIMARY KEY(`TransactionId`); 
ALTER TABLE `Transactions`  MODIFY `TransactionId` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT = 1; 

CREATE TABLE `Categories` (
`CategoryId` INT  NOT NULL,
`Name` VARCHAR(40)  NOT NULL,
`CreationTime` DATETIME  NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE `Categories` ADD PRIMARY KEY(`CategoryId`); 
ALTER TABLE `Categories`  MODIFY `CategoryId` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT = 1; 

CREATE TABLE `Merchants` (
`MerchantId` INT  NOT NULL,
`Name` VARCHAR(40)  NOT NULL,
`CreationTime` DATETIME  NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE `Merchants` ADD PRIMARY KEY(`MerchantId`); 
ALTER TABLE `Merchants`  MODIFY `MerchantId` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT = 1; 

CREATE TABLE `CategorizedMerchants` (
`CategorizedMerchantId` INT  NOT NULL,
`CategoryId` INT  NOT NULL,
`MerchantId` INT  NOT NULL,
`CreationTime` DATETIME  NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE `CategorizedMerchants` ADD PRIMARY KEY(`CategorizedMerchantId`); 
ALTER TABLE `CategorizedMerchants`  MODIFY `CategorizedMerchantId` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT = 1; 

CREATE TABLE `Messages` (
`MessageId` INT  NOT NULL,
`Content` TEXT  NOT NULL,
`Source` INT  NOT NULL,
`CreationTime` DATETIME  NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE `Messages` ADD PRIMARY KEY(`MessageId`); 
ALTER TABLE `Messages`  MODIFY `MessageId` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT = 1; 

CREATE TABLE `Accounts` (
`AccountId` INT  NOT NULL,
`Email` VARCHAR(40)  NOT NULL,
`Password` VARCHAR(40)  NOT NULL,
`Balance` DOUBLE  NOT NULL,
`CreationTime` DATETIME  NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE `Accounts` ADD PRIMARY KEY(`AccountId`); 
ALTER TABLE `Accounts`  MODIFY `AccountId` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT = 1; 

CREATE TABLE `Notifications` (
`NotificationId` INT  NOT NULL,
`Title` VARCHAR(20)  NOT NULL,
`Message` TEXT  NOT NULL,
`CreationTime` DATETIME  NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=latin1;

ALTER TABLE `Notifications` ADD PRIMARY KEY(`NotificationId`); 
ALTER TABLE `Notifications`  MODIFY `NotificationId` int NOT NULL AUTO_INCREMENT, AUTO_INCREMENT = 1; 




show tables;
